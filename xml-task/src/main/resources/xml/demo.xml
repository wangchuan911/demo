<?xml version="1.0" encoding="UTF-8"?>
<task>
    <initialization>
        <instance id="ftp1" tag="ftp"/>
        <instance id="csv1" tag="csv"/>
        <instance id="http1" tag="http"/>
        <value id="val1"></value>
        <value id="val2"></value>
    </initialization>
    <start>
        <transactional id="rimdb" db="oracle" batch="50">
            <http>
                <body>asdasdasdsadasdasdasdasdas</body>
            </http>
            <select id="select1">
                <sql>
                    select 1 as "val" from dual union select 2 from dual
                    where
                    <if test="__input.input1==1">
                        1=1 and
                    </if>

                    1=1
                </sql>
                <iterator>
                    <if test="select1.item.val==2 ">
                        <insert>
                            insert ta(col1,col2) values(#{col1,jdbcType=VARCHAR},#{col2,jdbcType=VARCHAR})
                        </insert>
                        <ftp ref="ftp1"></ftp>
                    </if>
                </iterator>
            </select>
        </transactional>
    </start>
</task>